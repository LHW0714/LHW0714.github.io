import{_,r as m,e as p,n as w,s as h,t as u,v as n,y as M,z as f}from"./index-eea4a84d.js";const U=t=>(M("data-v-9ed1dc68"),t=t(),f(),t),b={class:"cont"},y=U(()=>n("div",{id:"nocamera"},null,-1)),k={__name:"index",setup(t){let i=null,d=0,s=0,c=m(null);p(()=>{d=window.screen.width,s=window.screen.height,w(()=>{r()})});const r=()=>{i=document.getElementById("webcam"),console.log(window.screen),setTimeout(()=>{navigator.mediaDevices.getUserMedia||navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia?l({audio:!1,video:{width:s,height:d,facingMode:"user"}},g(),v()):console.log("不支持获取用户媒体")},300)},l=(e,a,o)=>{navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia(e).then(a).catch(o):navigator.webkitGetUserMedia?navigator.webkitGetUserMedia(e,a,o):navigator.mozGetUserMedia?navigator.mozGetUserMedia(e,a,o):navigator.getUserMedia&&navigator.getUserMedia(e,a,o)},g=e=>{i.srcObject=e,i.play()},v=e=>{console.log("摄像头获取错误"),console.log(i),document.getElementById("nocamera").style.display="block"};return(e,a)=>(h(),u("div",b,[y,n("video",{id:"webcam",ref_key:"webcam",ref:c,loop:"",preload:""},null,512)]))}},G=_(k,[["__scopeId","data-v-9ed1dc68"]]);export{G as default};
